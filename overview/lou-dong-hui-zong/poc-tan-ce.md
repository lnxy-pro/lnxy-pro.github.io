---
description: 快速验证存在的漏洞
---

# PoC探测



###

#### 业务测试点

1.
2. HTTP 盲攻击
3. Fuzz逻辑越权
4. XXE
5.  登录认证

    > * 暴力破解

查看数据是否采用SSL加密方式,是否可破解Wireshark抓包查看数据整改建议: 部署有效的SSL证书> >

<details>

<summary>Session测试</summary>

会话固定测试

检查用户退出后session能否重复使用利用:诱骗用户使用攻击者固定会话进行登录,窃取认证信息记录两次登录后的session,比较是否相同,相同则为固定session客户端登录系统时判断是否提交留存session认证,如果是留存session需要及时销毁并重新生成session认证

会话注销

检查用户退出后session是否依然有效,授权未释放利用: 如果未清空的session可以持续有效,攻击者可以获取用户权限sessionID销毁后未能清空服务器存储的session整改建议:用户注销或退出时,服务器应及时销毁session认证会话信息并清空客户端session标识

会话超时

检查用户10分钟无操作时,session是否被销毁并要求重新认证整改建议: 对session认证配置声明周期(常规业务系统建议30分钟内)

</details>

\> >

<details>

<summary>Cookie仿冒</summary>

修改Cookie身份标识,并拥有相关用户的权限通过篡改身份认证标识值来判断能否改变用户身份会话整改建议: 客户端标识的用户敏感信息数据,使用session会话认证方式,避免被仿冒

</details>

\> >

<details>

<summary>密文比对认证</summary>

检查密码是通过前端加密后和数据库比对,还是后端加密比对如果是前端加密啊,找到加密方式可以对用户名密码进行爆破整改建议: 将密码加密过程和比对过程放置在服务器后台执行

</details>

\> >

<details>

<summary>登录失败信息测试</summary>

查看登录失败后回显的信息提示比如:“用户名不存在”,“密码错误”,“账号不存在”等明确信息整改建议: 系统登录失败提示模糊描述

</details>

6\. 业务模块

> <details>
>
> <summary>订单ID篡改测试</summary>
>
>
>
> </details>

未考虑用户间权限隔离问题时,就会导致平行越权通过修改id,获取其他用户信息整改建议: 敏感数据要通过session机制判断用户身份,做好平行权限控制.服务端要交验请求的数据是否和登录者的身份一致,如果不一致则拒绝请求> >

<details>

<summary>手机号码篡改</summary>

篡改手机号越权没有身份校验时,抓包篡改手机号(挂失/找回密码),来越权获取信息整改建议: 服务端需要交验手机号和登录者的身份是否一致

</details>

\> >

<details>

<summary>用户ID篡改</summary>

同订单id篡改一样

</details>

\> >

<details>

<summary>邮箱和用户篡改</summary>

篡改发件人参数,导致攻击者可以伪造发信人进行钓鱼整改建议: 写信、发消息、发邮件要判断用户身份

</details>

\> >

<details>

<summary>商品编号/金额篡改</summary>

篡改商品价格或编号编号与价格不对应,1分钱成交整改建议: 商品金额不在客户端传入,防止被篡改,如果需要客户端传入金额,则服务端需要检查商品价格和交易金额是否一致,或对支付金额做签名校验

</details>

\> >

<details>

<summary>条件竞争</summary>

利用数据库时间差,多次重放数据整改建议: 在处理订单、支付等关键业务时,使用悲观锁或乐观锁保证事物的ACID特性(原子性,一致性,隔离性,持久性),避免数据脏读

</details>

1.  授权访问

    > <details>
    >
    > <summary>未授权访问</summary>
    >
    >
    >
    > </details>

查看未授权可以访问的页面整改建议: 需要安全配置或权限认证的地址、授权页面存在缺陷.对用户身份做session认证,并对用户访问的url做身份鉴别> >

<details>

<summary>越权</summary>

水平越权和垂直越权水平: A登录后篡改为B身份访问B的信息,垂直: 篡改为管理员整改建议: 服务端需要交验身份唯一性,自己的身份智能增删改查自己的信息

</details>

8\. 输入/输出模块测试 >

<details>

<summary>SQL注入测试</summary>

查看数据是否采用SSL加密方式,是否可破解Wireshark抓包查看数据整改建议: 部署有效的SSL证书

</details>

\> >

<details>

<summary>XSS测试</summary>

查看数据是否采用SSL加密方式,是否可破解Wireshark抓包查看数据整改建议: 部署有效的SSL证书

</details>

\> >

<details>

<summary>命令执行</summary>

查看数据是否采用SSL加密方式,是否可破解Wireshark抓包查看数据整改建议: 部署有效的SSL证书

</details>

9\.&#x20;

<details>

<summary>订单篡改</summary>

在支付页面,篡改支付金额整改建议: 商品信息、金额、折扣等原始数据的校验应来自服务器

</details>

\> >

<details>

<summary>本地加密传输</summary>

提交异常数量的订单支付请求整改建议: 服务端对产生异常情况的交易行为(积分为负 库存为0)应直接予以限制、阻断

</details>



***

业务风险点

1.  账号安全

    > 账号密码暴漏
    >
    > 无限制登录任意账号
    >
    > 电子邮件账号泄漏
    >
    > 中间人攻击
    >
    > 撞库攻击

    ***

    > 整改方法:
2.  密码找回

    >

    ***

    > 整改方法



1.
2.  在线支付

    > 订单金额篡改
    >
    > 数量篡改
    >
    > 请求重放测试
    >
    > 其他参数干扰

    ***

    > 整改方法
3.  文件上传

    > 文件上传回显错误路径
4.  文件包含

    > 文件包含数据读取

***

重点关注: Spring Boot Actuator 未授权访问 远程代码执行
